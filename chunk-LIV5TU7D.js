import{a as te,b as ne,c as oe}from"./chunk-FGAXOGPQ.js";import{h as ee}from"./chunk-VOK5FBSU.js";import{b as h}from"./chunk-FLQYOOZB.js";import{A as g,a as Y,c as Z,f as d,q as f}from"./chunk-MKPRFSOX.js";import{$c as m,Ab as x,Lb as c,Mb as J,O as L,Ob as K,Qa as C,Rb as U,Sb as B,Tb as D,_ as b,_c as _,a as N,ab as p,b as $,c as F,ea as R,fa as V,j as W,lb as S,m as O,mb as E,na as l,nb as H,pc as X,q as j,qb as w,qc as u,sb as k,tb as z,ub as r,vb as a,wb as M,xb as G,zb as s}from"./chunk-GZRSXBDL.js";function se(o,t){if(o&1&&M(0,"mat-icon",1),o&2){let e=t.$implicit,n=t.$index,i=x();H(i.getClass(e,n))}}var v=class o{_overall;_currentIndex;set overall(t){this._overall=t;for(let e=this._overall.length-1;e>=0;e--)if(typeof this._overall[e]=="boolean"){this._currentIndex=e+1;return}this._currentIndex=0}getClass(t,e){return e===this._currentIndex?"current":t?"success":t===!1?"fail":"pending"}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-training-progress"]],inputs:{overall:"overall"},decls:2,vars:0,consts:[["fontIcon","circle",3,"class"],["fontIcon","circle"]],template:function(e,n){e&1&&k(0,se,1,2,"mat-icon",0,w),e&2&&z(n._overall)},dependencies:[ne,te],styles:["[_nghost-%COMP%]{display:block;text-align:center;font-size:.6rem}mat-icon[_ngcontent-%COMP%]{font-size:inherit}.success[_ngcontent-%COMP%]{color:green}.fail[_ngcontent-%COMP%]{color:red}.current[_ngcontent-%COMP%]{color:gold}.pending[_ngcontent-%COMP%]{color:#d3d3d3}"]})};function pe(o,t){if(o&1){let e=G();r(0,"span",0),s("click",function(){let i=R(e).$index,I=x();return V(I.selectToken(i))}),c(1),a()}if(o&2){let e=t.$implicit;E("selected",e.selected),C(),K("",e.text,"",e.noWhiteSpace?"":" ","")}}var y=class o{quizPhrase="Hello";set answerPhrase(t){this.answerPhraseTokens=t!==null?t.map(n=>{var e=F(n,[]);return $(N({},e),{selected:!1})}):[]}showAnswer=!1;openAnswer=new l;onOpenAnswer(){this.showAnswer||this.openAnswer.emit()}selectedTokens=new l;selectToken(t){this.showAnswer&&this.answerPhraseTokens[t].active&&(this.answerPhraseTokens[t].selected=!this.answerPhraseTokens[t].selected,this.selectedTokens.emit(this.answerPhraseTokens.map(({selected:e},n)=>e?n:null).filter(e=>e!=null)))}answerPhraseTokens=[];static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-training-quiz"]],inputs:{quizPhrase:"quizPhrase",answerPhrase:"answerPhrase",showAnswer:"showAnswer"},outputs:{openAnswer:"openAnswer",selectedTokens:"selectedTokens"},decls:7,vars:3,consts:[[3,"click"],[3,"selected"]],template:function(e,n){e&1&&(r(0,"mat-card")(1,"mat-card-content"),c(2),a()(),r(3,"mat-card",0),s("click",function(){return n.onOpenAnswer()}),r(4,"mat-card-content"),k(5,pe,2,4,"span",1,w),a()()),e&2&&(C(2),J(n.quizPhrase),C(),E("blurred",!n.showAnswer),C(2),z(n.answerPhraseTokens))},dependencies:[u,f,g,m,d,Y,Z,h],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.5rem}mat-card[_ngcontent-%COMP%]{margin:0 1rem}mat-card.blurred[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{filter:blur(5px)}span.selected[_ngcontent-%COMP%]{font-weight:700;color:red}"]})};var A=class o{doNotRemember=new l;skip=new l;static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-training-quiz-phase-a"]],outputs:{doNotRemember:"doNotRemember",skip:"skip"},decls:4,vars:0,consts:[["mat-flat-button","",1,"do-not-remember",3,"click"],["mat-flat-button","",3,"click"]],template:function(e,n){e&1&&(r(0,"button",0),s("click",function(){return n.doNotRemember.next()}),c(1,"Do not remember"),a(),r(2,"button",1),s("click",function(){return n.skip.next()}),c(3,"Skip quiz"),a())},dependencies:[u,f,g,m,_,d,h],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.5rem;align-items:center}button.do-not-remember[_ngcontent-%COMP%]{--mdc-filled-button-container-color: orange}"]})};var Q=class o{perfect=new l;notExactly=new l;static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-training-quiz-phase-b"]],outputs:{perfect:"perfect",notExactly:"notExactly"},decls:4,vars:0,consts:[["mat-flat-button","",3,"click"],["mat-flat-button","",1,"not-exactly",3,"click"]],template:function(e,n){e&1&&(r(0,"button",0),s("click",function(){return n.perfect.next()}),c(1,"Perfect"),a(),r(2,"button",1),s("click",function(){return n.notExactly.next()}),c(3,"Not exactly"),a())},dependencies:[u,f,g,m,_,d,h],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;gap:.5rem}button.not-exactly[_ngcontent-%COMP%]{--mdc-filled-button-container-color: orange}"]})};var q=class o{nextQuiz=new l;static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-training-quiz-phase-c"]],outputs:{nextQuiz:"nextQuiz"},decls:2,vars:0,consts:[["mat-flat-button","",3,"click"]],template:function(e,n){e&1&&(r(0,"button",0),s("click",function(){return n.nextQuiz.next()}),c(1,"Next quiz"),a())},dependencies:[m,_],styles:["[_nghost-%COMP%]{display:block;text-align:center}"]})};var le=["-",".",",","!","?",":",";"],re=ee(()=>{let o=b(oe);return({phrase:t})=>o.registerProcess({processName:"parseTokensProcess"},e=>e.pipe(j(()=>t.split(" ").map(n=>{for(let i of le)if(n.indexOf(i)===0||n.indexOf(i)===n.length-1)return[{text:n.replace(i,""),noWhiteSpace:!0,active:!0},{text:i,noWhiteSpace:!1,active:!1}];return{text:n,noWhiteSpace:!1,active:!0}}).flat())))});var ce=()=>[!0,!1,null,null],ae=class o{quizPhrase$=O("Hello");parsePhrase=b(re);answerPhrase$=O("Path data can contain newline-characters and - thus can be broken up into multiple lines to improve readability.").pipe(L(t=>this.parsePhrase({phrase:t})));showAnswer$=new W(!1);openAnswer(){this.showAnswer$.next(!0)}selectedTokens(t){console.log("Selected tokens:",t)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-training"]],decls:7,vars:9,consts:[[3,"overall"],[3,"openAnswer","selectedTokens","quizPhrase","answerPhrase","showAnswer"]],template:function(e,n){e&1&&(M(0,"app-training-progress",0),r(1,"app-training-quiz",1),B(2,"async"),B(3,"async"),s("openAnswer",function(){return n.openAnswer()})("selectedTokens",function(I){return n.selectedTokens(I)}),a(),M(4,"app-training-quiz-phase-a")(5,"app-training-quiz-phase-b")(6,"app-training-quiz-phase-c")),e&2&&(S("overall",U(8,ce)),C(),S("quizPhrase","???")("answerPhrase",D(2,4,n.answerPhrase$))("showAnswer",D(3,6,n.showAnswer$)))},dependencies:[u,X,f,g,m,d,h,v,y,A,Q,q],encapsulation:2})};export{ae as TrainingComponent};
